{
    "swagger": "2.0",
    "info": {
        "description": "Backend API for RR Lesson Application",
        "title": "RR-Lesson API",
        "contact": {},
        "version": "1.0"
    },
    "host": "localhost:8080",
    "basePath": "/",
    "paths": {
        "/api/v1/auth/login": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "operationId": "Login",
                "parameters": [
                    {
                        "description": "body",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/LoginReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/LoginRes"
                        }
                    }
                }
            }
        },
        "/api/v1/auth/logout": {
            "delete": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "operationId": "Logout",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/LogoutRes"
                        }
                    }
                }
            }
        },
        "/api/v1/auth/register": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "operationId": "Register",
                "parameters": [
                    {
                        "description": "body",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/RegisterReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/RegisterRes"
                        }
                    }
                }
            }
        },
        "/api/v1/classes": {
            "get": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "class"
                ],
                "operationId": "GetAllClasses",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/GetAllClassesRes"
                        }
                    }
                }
            },
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "class"
                ],
                "operationId": "CreateClass",
                "parameters": [
                    {
                        "description": "body",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/CreateClassReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/CreateClassRes"
                        }
                    }
                }
            }
        },
        "/api/v1/classes/subjects/lessons": {
            "get": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "lesson"
                ],
                "operationId": "GetAllLessonWithClassSubject",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/GetAllLessonWithClassSubjectRes"
                        }
                    }
                }
            }
        },
        "/api/v1/classes/subjects/lessons/videos": {
            "get": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "video"
                ],
                "operationId": "GetAllVideosWithDetail",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/GetAllVideosWithDetailRes"
                        }
                    }
                }
            }
        },
        "/api/v1/classes/{classId}/subjects/{subjectId}/lessons": {
            "get": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "lesson"
                ],
                "operationId": "GetAllLessonsBySubjectId",
                "deprecated": true,
                "parameters": [
                    {
                        "type": "integer",
                        "description": "classId",
                        "name": "classId",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "subjectId",
                        "name": "subjectId",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/GetAllLessonsBySubjectIdRes"
                        }
                    }
                }
            }
        },
        "/api/v1/lessons": {
            "get": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "lesson"
                ],
                "operationId": "GetAllLessons",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "classId",
                        "name": "classId",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "subjectId",
                        "name": "subjectId",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/GetAllLessonsRes"
                        }
                    }
                }
            },
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "lesson"
                ],
                "operationId": "CreateLesson",
                "parameters": [
                    {
                        "description": "body",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/CreateLessonReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/CreateLessonRes"
                        }
                    }
                }
            }
        },
        "/api/v1/questions": {
            "get": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "question"
                ],
                "operationId": "GetAllQuestions",
                "parameters": [
                    {
                        "type": "string",
                        "description": "keyword",
                        "name": "keyword",
                        "in": "query"
                    },
                    {
                        "type": "array",
                        "items": {
                            "enum": [
                                "user",
                                "subject",
                                "class"
                            ],
                            "type": "string"
                        },
                        "collectionFormat": "csv",
                        "description": "includes",
                        "name": "includes",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/GetAllQuestionsRes"
                        }
                    }
                }
            },
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "question"
                ],
                "operationId": "CreateQuestion",
                "parameters": [
                    {
                        "description": "body",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/CreateQuestionReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/CreateQuestionRes"
                        }
                    }
                }
            }
        },
        "/api/v1/questions/{questionId}": {
            "get": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "question"
                ],
                "operationId": "GetQuestion",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "questionId",
                        "name": "questionId",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "array",
                        "items": {
                            "enum": [
                                "user",
                                "subject",
                                "class"
                            ],
                            "type": "string"
                        },
                        "collectionFormat": "csv",
                        "description": "includes",
                        "name": "includes",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/GetQuestionRes"
                        }
                    }
                }
            }
        },
        "/api/v1/subjects": {
            "get": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "subject"
                ],
                "operationId": "GetAllSubjects",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "classId",
                        "name": "classId",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/GetAllSubjectsRes"
                        }
                    }
                }
            },
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "subject"
                ],
                "operationId": "CreateSubject",
                "parameters": [
                    {
                        "description": "body",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/CreateSubjectReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/CreateSubjectRes"
                        }
                    }
                }
            }
        },
        "/api/v1/subjects/details": {
            "get": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "subject"
                ],
                "operationId": "GetAllSubjectDetails",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/GetAllSubjectDetailsRes"
                        }
                    }
                }
            }
        },
        "/api/v1/subjects/{subjectId}/lessons/{lessonId}/videos": {
            "get": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "video"
                ],
                "operationId": "GetAllVideosByLessonId",
                "deprecated": true,
                "parameters": [
                    {
                        "type": "integer",
                        "description": "subjectId",
                        "name": "subjectId",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "lessonId",
                        "name": "lessonId",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/GetAllVideosByLessonIdRes"
                        }
                    }
                }
            }
        },
        "/api/v1/videos": {
            "get": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "video"
                ],
                "operationId": "GetAllVideos",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "lessonId",
                        "name": "lessonId",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/GetAllVideosRes"
                        }
                    }
                }
            },
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "video"
                ],
                "operationId": "CreateVideo",
                "parameters": [
                    {
                        "description": "body",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/CreateVideoReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/CreateVideoRes"
                        }
                    }
                }
            }
        },
        "/api/v1/videos/{videoId}": {
            "get": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "video"
                ],
                "operationId": "GetVideoWithDetail",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "videoId",
                        "name": "videoId",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/GetVideoWithDetailRes"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "Class": {
            "type": "object",
            "required": [
                "created_at",
                "id",
                "name",
                "updated_at"
            ],
            "properties": {
                "created_at": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "name": {
                    "type": "string"
                },
                "updated_at": {
                    "type": "string"
                }
            }
        },
        "CreateClassReq": {
            "type": "object",
            "required": [
                "name"
            ],
            "properties": {
                "name": {
                    "type": "string"
                }
            }
        },
        "CreateClassRes": {
            "type": "object",
            "required": [
                "class"
            ],
            "properties": {
                "class": {
                    "$ref": "#/definitions/Class"
                }
            }
        },
        "CreateLessonReq": {
            "type": "object",
            "required": [
                "subject_id",
                "title"
            ],
            "properties": {
                "subject_id": {
                    "type": "integer"
                },
                "title": {
                    "type": "string"
                }
            }
        },
        "CreateLessonRes": {
            "type": "object",
            "required": [
                "lesson"
            ],
            "properties": {
                "lesson": {
                    "$ref": "#/definitions/Lesson"
                }
            }
        },
        "CreateQuestionReq": {
            "type": "object",
            "required": [
                "question",
                "subject_id"
            ],
            "properties": {
                "question": {
                    "type": "string"
                },
                "subject_id": {
                    "type": "integer"
                }
            }
        },
        "CreateQuestionRes": {
            "type": "object",
            "required": [
                "question"
            ],
            "properties": {
                "question": {
                    "$ref": "#/definitions/Question"
                }
            }
        },
        "CreateSubjectReq": {
            "type": "object",
            "required": [
                "class_id",
                "name"
            ],
            "properties": {
                "class_id": {
                    "type": "integer"
                },
                "name": {
                    "type": "string"
                }
            }
        },
        "CreateSubjectRes": {
            "type": "object",
            "required": [
                "subject"
            ],
            "properties": {
                "subject": {
                    "$ref": "#/definitions/Subject"
                }
            }
        },
        "CreateVideoReq": {
            "type": "object",
            "required": [
                "description",
                "file_path",
                "lesson_id",
                "title"
            ],
            "properties": {
                "description": {
                    "type": "string"
                },
                "file_path": {
                    "type": "string"
                },
                "lesson_id": {
                    "type": "integer"
                },
                "title": {
                    "type": "string"
                }
            }
        },
        "CreateVideoRes": {
            "type": "object",
            "required": [
                "video"
            ],
            "properties": {
                "video": {
                    "$ref": "#/definitions/Video"
                }
            }
        },
        "GetAllClassesRes": {
            "type": "object",
            "required": [
                "classes"
            ],
            "properties": {
                "classes": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Class"
                    }
                }
            }
        },
        "GetAllLessonWithClassSubjectRes": {
            "type": "object",
            "required": [
                "lessons"
            ],
            "properties": {
                "lessons": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/LessonClassSubject"
                    }
                }
            }
        },
        "GetAllLessonsBySubjectIdRes": {
            "type": "object",
            "required": [
                "lessons"
            ],
            "properties": {
                "lessons": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Lesson"
                    }
                }
            }
        },
        "GetAllLessonsRes": {
            "type": "object",
            "required": [
                "lessons"
            ],
            "properties": {
                "lessons": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Lesson"
                    }
                }
            }
        },
        "GetAllQuestionsRes": {
            "type": "object",
            "required": [
                "items"
            ],
            "properties": {
                "items": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/QuestionDTO"
                    }
                }
            }
        },
        "GetAllSubjectDetailsRes": {
            "type": "object",
            "required": [
                "subjects"
            ],
            "properties": {
                "subjects": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/SubjectDetail"
                    }
                }
            }
        },
        "GetAllSubjectsRes": {
            "type": "object",
            "required": [
                "subjects"
            ],
            "properties": {
                "subjects": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Subject"
                    }
                }
            }
        },
        "GetAllVideosByLessonIdRes": {
            "type": "object",
            "required": [
                "videos"
            ],
            "properties": {
                "videos": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Video"
                    }
                }
            }
        },
        "GetAllVideosRes": {
            "type": "object",
            "required": [
                "videos"
            ],
            "properties": {
                "videos": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Video"
                    }
                }
            }
        },
        "GetAllVideosWithDetailRes": {
            "type": "object",
            "required": [
                "videos"
            ],
            "properties": {
                "videos": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/VideoDetail"
                    }
                }
            }
        },
        "GetQuestionRes": {
            "type": "object",
            "required": [
                "question"
            ],
            "properties": {
                "question": {
                    "$ref": "#/definitions/QuestionDTO"
                }
            }
        },
        "GetVideoWithDetailRes": {
            "type": "object",
            "required": [
                "video"
            ],
            "properties": {
                "video": {
                    "$ref": "#/definitions/VideoDetail"
                }
            }
        },
        "Lesson": {
            "type": "object",
            "required": [
                "created_at",
                "id",
                "subject_id",
                "title",
                "updated_at"
            ],
            "properties": {
                "created_at": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "subject_id": {
                    "type": "integer"
                },
                "title": {
                    "type": "string"
                },
                "updated_at": {
                    "type": "string"
                }
            }
        },
        "LessonClassSubject": {
            "type": "object",
            "required": [
                "class",
                "lesson",
                "subject"
            ],
            "properties": {
                "class": {
                    "$ref": "#/definitions/Class"
                },
                "lesson": {
                    "$ref": "#/definitions/Lesson"
                },
                "subject": {
                    "$ref": "#/definitions/Subject"
                }
            }
        },
        "LoginReq": {
            "type": "object",
            "required": [
                "email",
                "password"
            ],
            "properties": {
                "email": {
                    "type": "string"
                },
                "password": {
                    "type": "string"
                }
            }
        },
        "LoginRes": {
            "type": "object",
            "required": [
                "user"
            ],
            "properties": {
                "user": {
                    "$ref": "#/definitions/User"
                }
            }
        },
        "LogoutRes": {
            "type": "object",
            "required": [
                "message"
            ],
            "properties": {
                "message": {
                    "type": "string"
                }
            }
        },
        "Question": {
            "type": "object",
            "required": [
                "created_at",
                "id",
                "question",
                "subject_id",
                "updated_at",
                "user_id"
            ],
            "properties": {
                "created_at": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "question": {
                    "type": "string"
                },
                "subject_id": {
                    "type": "integer"
                },
                "updated_at": {
                    "type": "string"
                },
                "user_id": {
                    "type": "integer"
                }
            }
        },
        "QuestionDTO": {
            "type": "object",
            "required": [
                "class",
                "data",
                "subject",
                "user"
            ],
            "properties": {
                "class": {
                    "$ref": "#/definitions/Class"
                },
                "data": {
                    "$ref": "#/definitions/Question"
                },
                "subject": {
                    "$ref": "#/definitions/Subject"
                },
                "user": {
                    "$ref": "#/definitions/User"
                }
            }
        },
        "RegisterReq": {
            "type": "object",
            "required": [
                "email",
                "name",
                "password"
            ],
            "properties": {
                "email": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "password": {
                    "type": "string"
                }
            }
        },
        "RegisterRes": {
            "type": "object",
            "required": [
                "user"
            ],
            "properties": {
                "user": {
                    "$ref": "#/definitions/User"
                }
            }
        },
        "Subject": {
            "type": "object",
            "required": [
                "class_id",
                "created_at",
                "id",
                "name",
                "updated_at"
            ],
            "properties": {
                "class_id": {
                    "type": "integer"
                },
                "created_at": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "name": {
                    "type": "string"
                },
                "updated_at": {
                    "type": "string"
                }
            }
        },
        "SubjectDetail": {
            "type": "object",
            "required": [
                "class",
                "subject"
            ],
            "properties": {
                "class": {
                    "$ref": "#/definitions/Class"
                },
                "subject": {
                    "$ref": "#/definitions/Subject"
                }
            }
        },
        "User": {
            "type": "object",
            "required": [
                "created_at",
                "email",
                "id",
                "name",
                "password",
                "role",
                "updated_at"
            ],
            "properties": {
                "created_at": {
                    "type": "string"
                },
                "email": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "name": {
                    "type": "string"
                },
                "password": {
                    "type": "string"
                },
                "role": {
                    "type": "string"
                },
                "updated_at": {
                    "type": "string"
                }
            }
        },
        "Video": {
            "type": "object",
            "required": [
                "created_at",
                "description",
                "file_path",
                "id",
                "lesson_id",
                "title",
                "updated_at"
            ],
            "properties": {
                "created_at": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "file_path": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "lesson_id": {
                    "type": "integer"
                },
                "title": {
                    "type": "string"
                },
                "updated_at": {
                    "type": "string"
                }
            }
        },
        "VideoDetail": {
            "type": "object",
            "required": [
                "class",
                "lesson",
                "subject",
                "video"
            ],
            "properties": {
                "class": {
                    "$ref": "#/definitions/Class"
                },
                "lesson": {
                    "$ref": "#/definitions/Lesson"
                },
                "subject": {
                    "$ref": "#/definitions/Subject"
                },
                "video": {
                    "$ref": "#/definitions/Video"
                }
            }
        }
    }
}